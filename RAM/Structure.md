# Structure:





### Address Module:

- В нашият модул, който използваме за паметта (**IC 74189 64 Bit RAM**) вече имаме изградена система за адресиране *(избиране на ред/адрес от паметта)*.

- Тази система за адресиране се състои от **4** входа, като те **бинарно** репрезентират **адрес/ред** в **паметта**.

- - Имаме входове **A0**,**A1**,**A2**,**A3**. Ако **искаме да изберем даден адрес** ще трябва да подадем **следните стойности на входовете**:

  - | A0   | A1   | A2   | A3   | Address |
    | ---- | ---- | ---- | ---- | ------- |
    | 0    | 0    | 0    | 0    | 0       |
    | 1    | 0    | 1    | 0    | 10      |
    | 0    | 1    | 1    | 1    | 7       |
    | 1    | 1    | 1    | 1    | 15      |

  - **Как се декодират и менажират адресите в паметта**, може да видим в **RAM-Idea.md**

- Въпреки, че **вече имаме изградена система** за адресиране в **IC 74189** ние **искаме да я надградим**:
- - Ръчен режим - ръчно ще изберем адрес от паметта
  - Автоматичен режим - на следващият clock сигнал от bus-a ще дойде адреса

#### Реализиране:

- Ще **сменяме режимите**  между *автоматичен* и *ръчен* с прост **Slide Switch**
- Ще имаме **LED индикация** в **кой режим се намираме** (*автоматичен*, *ръчен*)
- Ще имаме **4 битов DIP Switch** за **избиране на адрес при ръчен режим**.
- Ще имаме **74LS157 Quad 2-1 Line Mux**, който избира от коя страна (*автоматична*, *ръчна*) ще се взима сигнала
- - Работи  точно като дигиталният Switch, който правих. Тук имаме няколко канала между, които се сменя.
  - *CircuitJS/digital_switch_simplified.circuitjs.txt*
  - Примерно имаме **A0**,**B0**,**A1**,**B1** **входове** за сигнал, **Y0** и **Y1** **изходи** за резултат и **Select** вход за избор.
  - Ако **Select = 1**, то **Y0 = A0** и **Y1 = A1**
  - Ако **Select = 0**, то **Y0 = B0** и **Y1 = B1** 
- Ще имаме **74LS173 4-Bit D Register**, който ще ни помогне за това  да имаме **Clock** в **Address Module**-a.

<img src="C:\Users\Gosho\Desktop\GitHub\8-bit-Computer\Pictures\image-20220625031804304.png" alt="image-20220625031804304" style="zoom:80%;" />

### Data Module:

- В нашият модул, който използваме за паметта (**IC 74189 64 Bit RAM**) вече имаме изградена система за залагане на данни по избран адрес.
- Въпреки, че **вече имаме изградена система** за залагане на данни по избран адрес в **IC 74189** ние **искаме да я надградим**:
- - Ръчен режим - ръчно ще заложим данните на избран адрес
  - Автоматичен режим - на следващият clock сигнал от bus-a ще дойдат данните за избарния адрес

#### Реализиране:

- Ще използваме **Slide Switch**-a от **Address Module** за смяна на режимите (*автоматичен*/*ръчен*)
- Ще използваме същата **LED** индикация от **Address Module**
- Ще имаме **8 битов DIP Switch** за **избиране на данни при ръчен режим**.
- Ще имаме **Push Button**, който ще е **активен в ръчен режим** и при **натискане ще запише избраните данни на избрания адрес**
- Ще използваме **3** броя **74LS157 Quad 2-1 Line Mux**:
- - **2** **от тях** ще са за данните (от къде идват)
  - **1 от тях** ще е за записващият сигнал:
  - - Ръчен режим - **Push Button**
    - Автоматичен режим - **Clock**

<img src="C:\Users\Gosho\Desktop\GitHub\8-bit-Computer\Pictures\image-20220630162440018.png" alt="image-20220630162440018" style="zoom:80%;" />

#### Проблеми:

- **1:** 
  - Със стандартният дизайн при смяна на режимите (ръчен/автоматичен) често trigger-ваме write сигнала.
  - Това се получава от 74LS157 Quad 2-1 Line Mux. 
  - При смяна на Line дори и двата сигнала пр. A0 и B0 да са HIGH, то Y0 ще премине през LOW за кратко време, което време е достатъчно да trigger-не write-a на паметта.

- **2:**
  - Със стандартният дизайн използваме RC (Resistor-Capacitor) за да хванем Rising Edge-a на Clock-a.
  - Това нещо също довежда до проблеми по-нагоре.



**Реш. 1:**

- Push Button-a ще подава HIGH сигнал към 74LS157
- Clock-a също ще подава HIGH сигнал към 74LS157
- Резултата от 74LS157 ще бъде обърнат HIGH -> LOW, което ще активира записването

**Реш. 2:**

- Използваме останалите свободни пинове на 74LS00 (NAND Gate) и 74LS04 (Inverter) за да хванем Rising Edge-a на Clock.
- Ако закачим един и същи сигнал към двата входа на NAND Gate-a ще обърнем сигнала т.е може да го използваме като Inverter
- Ако закачим два входа към двата входа на NAND Gate-a и резултата го обърнем (т.е го закачим пак) ще получим AND от двата входа

<img src="C:\Users\Gosho\Desktop\GitHub\8-bit-Computer\Pictures\image-20220630172128112.png" alt="image-20220630172128112" style="zoom:80%;" />

### Summary:

Имаме **Switch**, който сменя режимите между **ръчен** и **автоматичен**. Когато изберем режим адреса и данните ще дойдат или от нас през **DIP Switch**-овете или от **BUS** лентата. При ръчният режим след като сме избрали адрес и данни, натискаме **Push Button**-a и записваме на избраният адрес данните.
