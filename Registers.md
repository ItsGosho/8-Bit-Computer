# Registers:

- Повечето **CPU**-та имат **регистри**
- Регистрите запазват **малко количество информация**
- Информация, която се **обработва от процесора**



Във нашият **8-bit** компютър ще имаме **3 бр. регистри**, като **всеки един от тях ще е с големина 8 bit-a**

- Регистри:
- - A - Генерален. Ще го използваме да запазваме каквато и да е информация без конкретно предназначение
  - B - Генерален. Ще го използваме да запазваме каквато и да е информация без конкретно предназначение
  - IR - Instruction Register. Ще го използваме за сегашната инструкция, която се извършва



- Регистрите имат 3 линии за контрол:

  | Операция | Какво прави?                                 |
  | -------- | -------------------------------------------- |
  | Load     | Запазва битовете от входа към регистъра      |
  | Enable   | Изкарва битовете от регистъра към изхода     |
  | Clock    | Извършва избраната операция Load или Enable. |



- Ако искаме да реализираме наш регистър:

- - Може да използваме **D-Flip-Flop**. Той покрива запазването на бит при **Rising Edge** на **Clock** сигнала. (**D Flip Flop.md**)
  - За да постигнем цялото това нещо, трябва да разширим D-Flip-Flop-a, така че да приема данни и запазва, само когато имаме LOAD.
  - **! На снимката EN трябва да е LOAD. Просто съм го объркал ..**.

  <img src="C:\Users\Gosho\Desktop\GitHub\8-bit-Computer\Pictures\image-20220606155512388.png" alt="image-20220606155512388" style="zoom: 50%;" />

  - **Сега изниква друг проблем.** 
  - - Нека запазим 1-ца в регистъра. **LOAD (1)**, **D(1)** и **CLK(1)**
    - След нека извършим следните операции - **EN (0)**, **D(0)** и **CLK(1)**, като това ще разруши нашата запазена 1-ца. 
    - Това се получава, защото при **Inverter-a** от **D сигнала** винаги **имаме HIGH** сигнал
  - Едно решение, което ми изникна беше да сложа **AND GATE** между **CLK** и **LOAD** сигнала.
  - - В крайна сметка след четене из коментарите не намирих добро обяснение, защо това не е добра идея да се използва. Опитах се да разбера как това ще доведе до проблем, но не измислих нищо. Ще го реализирам с Feedback за да видя друг начин за решаване на проблем, който така и не намерих, защото е проблем.
  - Използвах идеята сигнала от **Q** да бъде доставен до **D**, ако няма **LOAD**. Така дори и да се тригърне **CLK**, то ще продължим да пазим същата стойност.
  - <img src="C:\Users\Gosho\Desktop\GitHub\8-bit-Computer\Pictures\image-20220607001213286.png" alt="image-20220607001213286" style="zoom: 50%;" />
  - <img src="C:\Users\Gosho\Desktop\GitHub\8-bit-Computer\Pictures\image-20220606183518747.png" alt="image-20220606183518747" style="zoom: 50%;" />

- Следващата стъпка е да не изкарваме постоянно сигнала. Искаме да имаме EN линия, която ако е пусната- тогава да бъде изкаран сигнала.

- - Ще използвам Tri-state buffer, но как да си го направя?



- Как работят регистрите отдолу?
- - Работи с нещо наречно tri-state, което ни решава някакви проблеми
  - Имаме load & enable
  - Имаме входове и изходи





TODO: 

- 